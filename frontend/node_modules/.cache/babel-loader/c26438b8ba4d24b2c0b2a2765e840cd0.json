{"ast":null,"code":"import ACTIONS from \"./index\";\nimport axios from \"axios\";\nimport * as api from \"../../api/auth.js\";\n//fetch data from db\n//send the data to the DB so that it knows to signin the user\n//log in the user ..\nexport const studentRegister = formData => async dispatch => {\n  try {\n    console.log(formData);\n    const {\n      data\n    } = await api.studentRegisteration(formData);\n    console.log(data);\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const dispatchLogin = () => {\n  return {\n    type: ACTIONS.LOGIN\n  };\n};\nexport const fetchUser = async token => {\n  const res = await axios.get(\"/user/infor\", {\n    headers: {\n      Authorization: token\n    }\n  });\n  return res;\n};\nexport const dispatchGetUser = res => {\n  return {\n    type: ACTIONS.GET_USER,\n    payload: {\n      user: res.data,\n      isAdmin: res.data.role === 1 ? true : false\n    }\n  };\n};","map":{"version":3,"names":["ACTIONS","axios","api","studentRegister","formData","dispatch","console","log","data","studentRegisteration","error","dispatchLogin","type","LOGIN","fetchUser","token","res","get","headers","Authorization","dispatchGetUser","GET_USER","payload","user","isAdmin","role"],"sources":["C:/React-Project/V-Book/frontend/src/redux/actions/authAction.js"],"sourcesContent":["import ACTIONS from \"./index\";\r\nimport axios from \"axios\";\r\nimport * as api from \"../../api/auth.js\";\r\n//fetch data from db\r\n//send the data to the DB so that it knows to signin the user\r\n//log in the user ..\r\nexport const studentRegister = (formData) => async (dispatch) => {\r\n\ttry {\r\n\t\tconsole.log(formData);\r\n\t\tconst { data } = await api.studentRegisteration(formData);\r\n\t\tconsole.log(data);\r\n\t} catch (error) {\r\n\t\tconsole.log(error);\r\n\t}\r\n};\r\nexport const dispatchLogin = () => {\r\n\treturn {\r\n\t\ttype: ACTIONS.LOGIN,\r\n\t};\r\n};\r\n\r\nexport const fetchUser = async (token) => {\r\n\tconst res = await axios.get(\"/user/infor\", {\r\n\t\theaders: { Authorization: token },\r\n\t});\r\n\treturn res;\r\n};\r\n\r\nexport const dispatchGetUser = (res) => {\r\n\treturn {\r\n\t\ttype: ACTIONS.GET_USER,\r\n\t\tpayload: {\r\n\t\t\tuser: res.data,\r\n\t\t\tisAdmin: res.data.role === 1 ? true : false,\r\n\t\t},\r\n\t};\r\n};\r\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,SAAS;AAC7B,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,KAAKC,GAAG,MAAM,mBAAmB;AACxC;AACA;AACA;AACA,OAAO,MAAMC,eAAe,GAAIC,QAAQ,IAAK,MAAOC,QAAQ,IAAK;EAChE,IAAI;IACHC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;IACrB,MAAM;MAAEI;IAAK,CAAC,GAAG,MAAMN,GAAG,CAACO,oBAAoB,CAACL,QAAQ,CAAC;IACzDE,OAAO,CAACC,GAAG,CAACC,IAAI,CAAC;EAClB,CAAC,CAAC,OAAOE,KAAK,EAAE;IACfJ,OAAO,CAACC,GAAG,CAACG,KAAK,CAAC;EACnB;AACD,CAAC;AACD,OAAO,MAAMC,aAAa,GAAG,MAAM;EAClC,OAAO;IACNC,IAAI,EAAEZ,OAAO,CAACa;EACf,CAAC;AACF,CAAC;AAED,OAAO,MAAMC,SAAS,GAAG,MAAOC,KAAK,IAAK;EACzC,MAAMC,GAAG,GAAG,MAAMf,KAAK,CAACgB,GAAG,CAAC,aAAa,EAAE;IAC1CC,OAAO,EAAE;MAAEC,aAAa,EAAEJ;IAAM;EACjC,CAAC,CAAC;EACF,OAAOC,GAAG;AACX,CAAC;AAED,OAAO,MAAMI,eAAe,GAAIJ,GAAG,IAAK;EACvC,OAAO;IACNJ,IAAI,EAAEZ,OAAO,CAACqB,QAAQ;IACtBC,OAAO,EAAE;MACRC,IAAI,EAAEP,GAAG,CAACR,IAAI;MACdgB,OAAO,EAAER,GAAG,CAACR,IAAI,CAACiB,IAAI,KAAK,CAAC,GAAG,IAAI,GAAG;IACvC;EACD,CAAC;AACF,CAAC"},"metadata":{},"sourceType":"module"}