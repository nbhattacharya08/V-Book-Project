{"ast":null,"code":"var _jsxFileName = \"C:\\\\React-Project\\\\V-Book\\\\frontend\\\\src\\\\components\\\\body\\\\auth\\\\ResetPassword.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { isMatch, isLength } from \"../../utils/validation/Validation\";\nimport { useParams } from \"react-router-dom\";\nimport { showErrMsg, showSuccessMsg } from \"../../utils/notification/Notification\";\nimport { Button, Input } from \"antd\";\nimport { Helmet } from \"react-helmet\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  password: \"\",\n  cf_password: \"\",\n  success: \"\",\n  err: \"\"\n};\nconst ResetPassword = () => {\n  _s();\n  const [data, setData] = useState(initialState);\n  const {\n    token\n  } = useParams();\n  const {\n    password,\n    cf_password,\n    err,\n    success\n  } = data;\n  const handleChange = e => {\n    setData({\n      ...data,\n      [e.target.name]: e.target.value,\n      err: \"\",\n      success: \"\"\n    });\n  };\n  const resetPassword = async () => {\n    if (isLength(password)) return setData({\n      ...data,\n      err: \"Password must be at least 6 characters.\",\n      success: \"\"\n    });\n    if (!isMatch(password, cf_password)) return setData({\n      ...data,\n      err: \"Password did not match\",\n      success: \"\"\n    });\n    try {\n      const res = await axios.post(\"/user/reset\", {\n        password\n      }, {\n        headers: {\n          Authorization: token\n        }\n      });\n      return setData({\n        ...data,\n        err: \"\",\n        success: res.data.msg\n      });\n    } catch (err) {\n      return setData({\n        ...data,\n        err: err.response.data.msg,\n        success: \"\"\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Reset Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fg_pass\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Reset Your Password \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 6\n        }, this), err && showErrMsg(err), success && showSuccessMsg(success), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          name: \"password\",\n          value: password,\n          type: \"password\",\n          className: \"input\",\n          placeholder: \"Password\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Confirm Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          name: \"cf_password\",\n          value: cf_password,\n          type: \"password\",\n          className: \"input\",\n          placeholder: \"Confirm Password\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: resetPassword,\n          children: \"RESET PASSWORD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n_s(ResetPassword, \"WMFUP8fu4tNDOjnO3J2gBGUFOaw=\", false, function () {\n  return [useParams];\n});\n_c = ResetPassword;\nexport default ResetPassword;\nvar _c;\n$RefreshReg$(_c, \"ResetPassword\");","map":{"version":3,"names":["React","useState","isMatch","isLength","useParams","showErrMsg","showSuccessMsg","Button","Input","Helmet","axios","initialState","password","cf_password","success","err","ResetPassword","data","setData","token","handleChange","e","target","name","value","resetPassword","res","post","headers","Authorization","msg","response"],"sources":["C:/React-Project/V-Book/frontend/src/components/body/auth/ResetPassword.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { isMatch, isLength } from \"../../utils/validation/Validation\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { showErrMsg, showSuccessMsg } from \"../../utils/notification/Notification\";\r\nimport { Button, Input } from \"antd\";\r\nimport { Helmet } from \"react-helmet\";\r\n\r\nimport axios from \"axios\";\r\nconst initialState = {\r\n\tpassword: \"\",\r\n\tcf_password: \"\",\r\n\tsuccess: \"\",\r\n\terr: \"\",\r\n};\r\n\r\nconst ResetPassword = () => {\r\n\tconst [data, setData] = useState(initialState);\r\n\tconst { token } = useParams();\r\n\tconst { password, cf_password, err, success } = data;\r\n\tconst handleChange = (e) => {\r\n\t\tsetData({ ...data, [e.target.name]: e.target.value, err: \"\", success: \"\" });\r\n\t};\r\n\tconst resetPassword = async () => {\r\n\t\tif (isLength(password))\r\n\t\t\treturn setData({\r\n\t\t\t\t...data,\r\n\t\t\t\terr: \"Password must be at least 6 characters.\",\r\n\t\t\t\tsuccess: \"\",\r\n\t\t\t});\r\n\r\n\t\tif (!isMatch(password, cf_password)) return setData({ ...data, err: \"Password did not match\", success: \"\" });\r\n\t\ttry {\r\n\t\t\tconst res = await axios.post(\r\n\t\t\t\t\"/user/reset\",\r\n\t\t\t\t{ password },\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: { Authorization: token },\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\treturn setData({ ...data, err: \"\", success: res.data.msg });\r\n\t\t} catch (err) {\r\n\t\t\treturn setData({ ...data, err: err.response.data.msg, success: \"\" });\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<title>Reset Password</title>\r\n\t\t\t</Helmet>\r\n\t\t\t<div className=\"fg_pass\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<h2>Reset Your Password </h2>\r\n\t\t\t\t\t{err && showErrMsg(err)}\r\n\t\t\t\t\t{success && showSuccessMsg(success)}\r\n\r\n\t\t\t\t\t<label>Password</label>\r\n\t\t\t\t\t<Input name=\"password\" value={password} type=\"password\" className=\"input\" placeholder=\"Password\" onChange={handleChange} />\r\n\r\n\t\t\t\t\t<label>Confirm Password</label>\r\n\t\t\t\t\t<Input name=\"cf_password\" value={cf_password} type=\"password\" className=\"input\" placeholder=\"Confirm Password\" onChange={handleChange} />\r\n\r\n\t\t\t\t\t<button onClick={resetPassword}>RESET PASSWORD</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ResetPassword;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,OAAO,EAAEC,QAAQ,QAAQ,mCAAmC;AACrE,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,UAAU,EAAEC,cAAc,QAAQ,uCAAuC;AAClF,SAASC,MAAM,EAAEC,KAAK,QAAQ,MAAM;AACpC,SAASC,MAAM,QAAQ,cAAc;AAErC,OAAOC,KAAK,MAAM,OAAO;AAAC;AAAA;AAC1B,MAAMC,YAAY,GAAG;EACpBC,QAAQ,EAAE,EAAE;EACZC,WAAW,EAAE,EAAE;EACfC,OAAO,EAAE,EAAE;EACXC,GAAG,EAAE;AACN,CAAC;AAED,MAAMC,aAAa,GAAG,MAAM;EAAA;EAC3B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGjB,QAAQ,CAACU,YAAY,CAAC;EAC9C,MAAM;IAAEQ;EAAM,CAAC,GAAGf,SAAS,EAAE;EAC7B,MAAM;IAAEQ,QAAQ;IAAEC,WAAW;IAAEE,GAAG;IAAED;EAAQ,CAAC,GAAGG,IAAI;EACpD,MAAMG,YAAY,GAAIC,CAAC,IAAK;IAC3BH,OAAO,CAAC;MAAE,GAAGD,IAAI;MAAE,CAACI,CAAC,CAACC,MAAM,CAACC,IAAI,GAAGF,CAAC,CAACC,MAAM,CAACE,KAAK;MAAET,GAAG,EAAE,EAAE;MAAED,OAAO,EAAE;IAAG,CAAC,CAAC;EAC5E,CAAC;EACD,MAAMW,aAAa,GAAG,YAAY;IACjC,IAAItB,QAAQ,CAACS,QAAQ,CAAC,EACrB,OAAOM,OAAO,CAAC;MACd,GAAGD,IAAI;MACPF,GAAG,EAAE,yCAAyC;MAC9CD,OAAO,EAAE;IACV,CAAC,CAAC;IAEH,IAAI,CAACZ,OAAO,CAACU,QAAQ,EAAEC,WAAW,CAAC,EAAE,OAAOK,OAAO,CAAC;MAAE,GAAGD,IAAI;MAAEF,GAAG,EAAE,wBAAwB;MAAED,OAAO,EAAE;IAAG,CAAC,CAAC;IAC5G,IAAI;MACH,MAAMY,GAAG,GAAG,MAAMhB,KAAK,CAACiB,IAAI,CAC3B,aAAa,EACb;QAAEf;MAAS,CAAC,EACZ;QACCgB,OAAO,EAAE;UAAEC,aAAa,EAAEV;QAAM;MACjC,CAAC,CACD;MACD,OAAOD,OAAO,CAAC;QAAE,GAAGD,IAAI;QAAEF,GAAG,EAAE,EAAE;QAAED,OAAO,EAAEY,GAAG,CAACT,IAAI,CAACa;MAAI,CAAC,CAAC;IAC5D,CAAC,CAAC,OAAOf,GAAG,EAAE;MACb,OAAOG,OAAO,CAAC;QAAE,GAAGD,IAAI;QAAEF,GAAG,EAAEA,GAAG,CAACgB,QAAQ,CAACd,IAAI,CAACa,GAAG;QAAEhB,OAAO,EAAE;MAAG,CAAC,CAAC;IACrE;EACD,CAAC;EACD,oBACC;IAAA,wBACC,QAAC,MAAM;MAAA,uBACN;QAAA,UAAO;MAAc;QAAA;QAAA;QAAA;MAAA;IAAQ;MAAA;MAAA;MAAA;IAAA,QACrB,eACT;MAAK,SAAS,EAAC,SAAS;MAAA,uBACvB;QAAK,SAAS,EAAC,KAAK;QAAA,wBACnB;UAAA,UAAI;QAAoB;UAAA;UAAA;UAAA;QAAA,QAAK,EAC5BC,GAAG,IAAIV,UAAU,CAACU,GAAG,CAAC,EACtBD,OAAO,IAAIR,cAAc,CAACQ,OAAO,CAAC,eAEnC;UAAA,UAAO;QAAQ;UAAA;UAAA;UAAA;QAAA,QAAQ,eACvB,QAAC,KAAK;UAAC,IAAI,EAAC,UAAU;UAAC,KAAK,EAAEF,QAAS;UAAC,IAAI,EAAC,UAAU;UAAC,SAAS,EAAC,OAAO;UAAC,WAAW,EAAC,UAAU;UAAC,QAAQ,EAAEQ;QAAa;UAAA;UAAA;UAAA;QAAA,QAAG,eAE3H;UAAA,UAAO;QAAgB;UAAA;UAAA;UAAA;QAAA,QAAQ,eAC/B,QAAC,KAAK;UAAC,IAAI,EAAC,aAAa;UAAC,KAAK,EAAEP,WAAY;UAAC,IAAI,EAAC,UAAU;UAAC,SAAS,EAAC,OAAO;UAAC,WAAW,EAAC,kBAAkB;UAAC,QAAQ,EAAEO;QAAa;UAAA;UAAA;UAAA;QAAA,QAAG,eAEzI;UAAQ,OAAO,EAAEK,aAAc;UAAA,UAAC;QAAc;UAAA;UAAA;UAAA;QAAA,QAAS;MAAA;QAAA;QAAA;QAAA;MAAA;IAClD;MAAA;MAAA;MAAA;IAAA,QACD;EAAA,gBACJ;AAEL,CAAC;AAAC,GAnDIT,aAAa;EAAA,QAEAZ,SAAS;AAAA;AAAA,KAFtBY,aAAa;AAqDnB,eAAeA,aAAa;AAAC;AAAA"},"metadata":{},"sourceType":"module"}